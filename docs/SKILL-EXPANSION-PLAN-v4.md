# OPUS 67 Skill Expansion Plan v4.0

> **Goal:** Add ~35 new skills to OPUS 67 with maximum token efficiency using hybrid static/MCP approach

---

## Executive Summary

| Metric | Current | After |
|--------|---------|-------|
| Total Skills | 95 | 130 |
| Skill Packs | 0 | 5 |
| MCP Connections | 35 | 47 (+12) |
| Token Savings | Baseline | 45-60% |
| npm Toolkits | 0 | 3 |

---

## Current 95 Skills (Complete List)

### TIER 1: CORE STACK (5 Skills)
| # | Skill ID | Token Cost |
|---|----------|------------|
| 1 | `solana-anchor-expert` | 15,000 |
| 2 | `nextjs-14-expert` | 12,000 |
| 3 | `typescript-senior` | 8,000 |
| 4 | `rust-systems` | 10,000 |
| 5 | `vibe-coder` | 10,000 |

### TIER 2: DOMAIN EXPERTISE (44 Skills)

**Blockchain & Finance (8)**
| # | Skill | Cost |
|---|-------|------|
| 6 | `bonding-curve-master` | 8,000 |
| 7 | `defi-data-analyst` | 10,000 |
| 8 | `crypto-twitter-analyst` | 6,000 |
| 9 | `farcaster-expert` | 5,000 |
| 10 | `jupiter-trader` | 8,000 |
| 11 | `solana-reader` | 6,000 |
| 12 | `anchor-instructor` | 10,000 |
| 13 | `solana-deployer` | 7,000 |

**UI/UX Frontend (7)**
| # | Skill | Cost |
|---|-------|------|
| 14 | `framer-motion-wizard` | 7,000 |
| 15 | `shadcn-ui-master` | 6,000 |
| 16 | `tailwind-ui-designer` | 8,000 |
| 17 | `threejs-webgl` | 9,000 |
| 18 | `design-system-architect` | 8,000 |
| 19 | `figma-to-code` | 6,000 |
| 20 | `v0-style-generator` | 8,000 |

**Web2 Full-Stack (6)**
| # | Skill | Cost |
|---|-------|------|
| 21 | `stripe-payments` | 8,000 |
| 22 | `auth-clerk-nextauth` | 7,000 |
| 23 | `file-upload-expert` | 5,000 |
| 24 | `ai-integration` | 8,000 |
| 25 | `trpc-fullstack` | 7,000 |
| 26 | `realtime-multiplayer` | 7,000 |

**Research & Scraping (5)**
| # | Skill | Cost |
|---|-------|------|
| 27 | `web-scraper` | 7,000 |
| 28 | `deep-researcher` | 8,000 |
| 29 | `docs-expert` | 5,000 |
| 30 | `browser-automator` | 7,000 |
| 31 | `github-manager` | 6,000 |

**Infrastructure (9)**
| # | Skill | Cost |
|---|-------|------|
| 32 | `memory-keeper` | 5,000 |
| 33 | `vector-wizard` | 6,000 |
| 34 | `db-commander` | 7,000 |
| 35 | `container-chief` | 5,000 |
| 36 | `error-hunter` | 6,000 |
| 37 | `desktop-context` | 5,000 |
| 38 | `analytics-tracking` | 4,000 |
| 39 | `devops-engineer` | 5,000 |
| 40 | `mcp-builder` | 6,000 |

**GRAB Skills (16)**
| # | Skill | Cost |
|---|-------|------|
| 41 | `react-grab` | 7,000 |
| 42 | `theme-grab` | 5,000 |
| 43 | `form-grab` | 6,000 |
| 44 | `chart-grab` | 7,000 |
| 45 | `icon-grab` | 4,000 |
| 46 | `dashboard-grab` | 9,000 |
| 47 | `landing-grab` | 8,000 |
| 48 | `db-grab` | 6,000 |
| 49 | `api-grab` | 7,000 |
| 50 | `wireframe-grab` | 6,000 |
| 51 | `figma-grab` | 8,000 |
| 52 | `animation-grab` | 6,000 |
| 53 | `email-grab` | 5,000 |
| 54 | `pdf-grab` | 5,000 |
| 55 | `mobile-grab` | 7,000 |

### TIER 3: SPECIALIZED (39 Skills)

**Core Web2 Development (13)**
| # | Skill | Cost |
|---|-------|------|
| 56 | `react-expert` | 10,000 |
| 57 | `node-backend` | 8,000 |
| 58 | `python-developer` | 7,000 |
| 59 | `graphql-expert` | 6,000 |
| 60 | `sql-database` | 6,000 |
| 61 | `prisma-drizzle-orm` | 6,000 |
| 62 | `git-expert` | 4,000 |
| 63 | `docker-containers` | 5,000 |
| 64 | `testing-playwright` | 6,000 |
| 65 | `testing-unit` | 5,000 |
| 66 | `supabase-expert` | 7,000 |
| 67 | `auth-security` | 6,000 |
| 68 | `monorepo-expert` | 5,000 |

**Web2 Integrations (7)**
| # | Skill | Cost |
|---|-------|------|
| 69 | `email-resend` | 5,000 |
| 70 | `react-hook-form-zod` | 5,000 |
| 71 | `zustand-jotai-state` | 5,000 |
| 72 | `tanstack-query-expert` | 6,000 |
| 73 | `wallet-integration` | 5,000 |
| 74 | `content-writer` | 4,000 |
| 75 | `notion-navigator` | 4,000 |

**Finance & Economics (3)**
| # | Skill | Cost |
|---|-------|------|
| 76 | `tokenomics-designer` | 7,000 |
| 77 | `lp-automation` | 6,000 |
| 78 | `smart-contract-auditor` | 8,000 |

**Design & Additional (17)**
| # | Skill | Cost |
|---|-------|------|
| 79 | `svg-illustration` | 5,000 |
| 80-95 | Legacy GRAB variants | ~5,000 each |

---

## MISSING SKILLS (35 New Skills to Add)

### Priority 1: CRITICAL (Add Immediately)

**AI/LLM Native (8 skills)**
| Skill ID | Why Critical | Tier | Tokens |
|----------|--------------|------|--------|
| `anthropic-sdk-expert` | Your own ecosystem! | 1 | 10,000 |
| `claude-agent-sdk` | Agent SDK mastery | 1 | 8,000 |
| `cursor-rules-expert` | #1 AI IDE | 2 | 6,000 |
| `langchain-langsmith` | LLM app framework | 2 | 8,000 |
| `llamaindex-rag` | RAG pipelines | 2 | 9,000 |
| `vercel-ai-sdk` | Streaming, Chat UI | 2 | 7,000 |
| `dspy-prompting` | Prompt optimization | 2 | 6,000 |
| `agentic-patterns` | ReAct, CoT patterns | 2 | 7,000 |

**Solana 2025 Stack (7 skills)**
| Skill ID | Why Critical | Tier | Tokens |
|----------|--------------|------|--------|
| `solana-kit-expert` | New @solana/kit SDK | 1 | 10,000 |
| `token-extensions` | 2024's biggest feature | 1 | 8,000 |
| `metaplex-umi` | NFT standard | 2 | 8,000 |
| `blinks-actions` | Solana Actions/Blinks | 2 | 7,000 |
| `squads-multisig` | Production multisig | 2 | 6,000 |
| `pump-fun-expert` | Bonding curves | 2 | 6,000 |
| `compressed-nft` | Bubblegum, merkle | 3 | 7,000 |

### Priority 2: HIGH (Add This Month)

**DevOps Modern (6 skills)**
| Skill ID | Tokens |
|----------|--------|
| `turborepo-expert` | 6,000 |
| `github-actions-expert` | 7,000 |
| `cloudflare-workers` | 6,000 |
| `vercel-edge-expert` | 6,000 |
| `docker-compose-pro` | 5,000 |
| `railway-fly-deploy` | 5,000 |

**Popular Stacks (8 skills)**
| Skill ID | Tokens |
|----------|--------|
| `t3-stack-expert` | 8,000 |
| `saas-kit-expert` | 7,000 |
| `telegram-bot-expert` | 6,000 |
| `discord-bot-expert` | 6,000 |
| `chrome-extension-expert` | 6,000 |
| `cli-builder-expert` | 5,000 |
| `hono-expert` | 6,000 |
| `bun-runtime` | 5,000 |

### Priority 3: MEDIUM (Next Quarter)

**Database/Data (6 skills)**
| Skill ID | Tokens |
|----------|--------|
| `neon-postgres` | 5,000 |
| `turso-libsql` | 5,000 |
| `upstash-redis` | 5,000 |
| `convex-expert` | 7,000 |
| `drizzle-studio` | 5,000 |
| `effect-ts` | 7,000 |

---

## Part 1: Skill Organization (Hybrid Approach)

### 1.1 Skill Packs (5 Consolidated Packs)

Instead of 25 individual skills, create 5 consolidated packs:

| Pack ID | Skills Consolidated | Token Cost | Tier |
|---------|---------------------|------------|------|
| `ai-native-stack` | anthropic-sdk, claude-agent-sdk, cursor-rules, langchain, llamaindex | 10,000 | 1 |
| `solana-2025-stack` | solana-kit, token-extensions, metaplex-umi, blinks, squads | 12,000 | 1 |
| `devops-automation-stack` | github-actions, cloudflare-workers, vercel-edge | 9,000 | 2 |
| `monorepo-build-stack` | turborepo, nx-expert, pnpm-workspace | 8,000 | 2 |
| `fullstack-blueprint-stack` | t3-stack, saas-kit, telegram-bot, discord-bot | 10,000 | 2 |

**Token Savings:** 49,000 tokens (vs 87,500 for 35 individual skills)

### 1.2 MCP-Backed Hints (Convert 15 Skills)

| Current Skill | New Hint ID | Backed By MCP | Token Reduction |
|---------------|-------------|---------------|-----------------|
| `jupiter-trader` | `jupiter-hint` | jupiter | 8K → 400 |
| `defi-data-analyst` | `defi-data-hint` | birdeye, helius | 10K → 500 |
| `crypto-twitter-analyst` | `social-hint` | tweetscout, santiment | 6K → 400 |
| `solana-reader` | `chain-data-hint` | helius, solana | 6K → 350 |
| `github-manager` | `github-hint` | github | 6K → 300 |
| `memory-keeper` | `memory-hint` | mem0 | 5K → 300 |
| `vector-wizard` | `vector-hint` | qdrant | 6K → 350 |
| `db-commander` | `supabase-hint` | supabase | 7K → 400 |
| `error-hunter` | `sentry-hint` | sentry | 6K → 350 |
| `web-scraper` | `scraping-hint` | firecrawl, jina | 7K → 400 |
| `deep-researcher` | `research-hint` | tavily, exa | 8K → 450 |
| `browser-automator` | `browser-hint` | playwright | 7K → 400 |
| `desktop-context` | `screenpipe-hint` | screenpipe | 5K → 300 |
| `analytics-tracking` | `analytics-hint` | posthog | 4K → 300 |
| `notion-navigator` | `notion-hint` | notion | 4K → 300 |

**Token Savings:** 91K → 5.5K (94% reduction for data-fetching skills)

### 1.3 Remaining Individual Skills (17 Lean Skills)

| Skill ID | Tier | Tokens | Category |
|----------|------|--------|----------|
| `hono-expert` | 2 | 6,000 | Web Framework |
| `bun-runtime` | 2 | 5,000 | Runtime |
| `effect-ts` | 2 | 7,000 | TypeScript |
| `react-19-expert` | 2 | 8,000 | Frontend |
| `drizzle-studio` | 3 | 5,000 | Database |
| `neon-postgres` | 3 | 5,000 | Database |
| `clerk-auth-expert` | 2 | 6,000 | Auth |
| `inngest-expert` | 2 | 6,000 | Background Jobs |
| `trigger-dev-expert` | 2 | 6,000 | Background Jobs |
| `convex-expert` | 2 | 7,000 | Backend |
| `uploadthing-expert` | 3 | 5,000 | File Upload |
| `resend-email` | 3 | 4,000 | Email |
| `vitest-expert` | 2 | 5,000 | Testing |
| `playwright-pro` | 2 | 6,000 | E2E Testing |
| `chrome-extension-expert` | 2 | 6,000 | Extensions |
| `cli-builder-expert` | 2 | 5,000 | CLI Tools |
| `dspy-prompting` | 2 | 6,000 | AI/Prompts |

---

## Part 2: New MCP Servers (+12)

### 2.1 AI/LLM MCPs

```yaml
# Add to packages/opus67/mcp/connections.yaml

langsmith:
  name: LangSmith
  type: rest_api
  category: ai_tools
  priority: 1
  base_url: https://api.smith.langchain.com
  auth:
    type: api_key
    env_var: LANGSMITH_API_KEY
  capabilities:
    - trace_runs
    - evaluate_chains
    - monitor_costs
    - create_dataset
  auto_connect_when:
    keywords: [langchain, trace, llm debug, langsmith]
    skills: [ai-native-stack, langchain-expert]

vercel_ai:
  name: Vercel AI SDK
  type: mcp_server
  category: ai_tools
  priority: 1
  connection:
    type: mcp_stdio
    command: npx
    args: ["-y", "@anthropic/mcp-vercel-ai"]
  capabilities:
    - stream_completion
    - generate_embedding
    - use_chat
  auto_connect_when:
    keywords: [vercel ai, ai sdk, useChat, useCompletion]
    skills: [ai-native-stack]
```

### 2.2 Web3/Solana MCPs

```yaml
pump_fun:
  name: Pump.fun
  type: rest_api
  category: blockchain
  priority: 1
  base_url: https://frontend-api.pump.fun
  auth:
    type: none
  capabilities:
    - get_token_info
    - get_bonding_curve
    - get_trades
    - get_holders
  auto_connect_when:
    keywords: [pump.fun, pump fun, bonding curve, meme coin]
    skills: [solana-2025-stack, bonding-curve-master]

dexscreener:
  name: DEX Screener
  type: rest_api
  category: blockchain
  priority: 2
  base_url: https://api.dexscreener.com/latest
  auth:
    type: none
  capabilities:
    - search_pairs
    - get_pair_info
    - get_token_pairs
  auto_connect_when:
    keywords: [dexscreener, chart, pair, liquidity]
    skills: [defi-data-analyst]

tensor:
  name: Tensor NFT
  type: rest_api
  category: blockchain
  priority: 2
  base_url: https://api.tensor.so/graphql
  auth:
    type: api_key
    env_var: TENSOR_API_KEY
  capabilities:
    - get_collection_stats
    - get_listings
    - get_bids
  auto_connect_when:
    keywords: [tensor, nft, collection, floor]
    skills: [metaplex-core, nft-agent]
```

### 2.3 SaaS/Full-Stack MCPs

```yaml
stripe:
  name: Stripe
  type: mcp_server
  category: payments
  priority: 1
  connection:
    type: mcp_stdio
    command: npx
    args: ["-y", "stripe-mcp"]
  auth:
    type: api_key
    env_var: STRIPE_SECRET_KEY
  capabilities:
    - create_checkout
    - manage_subscriptions
    - list_customers
    - get_invoices
  auto_connect_when:
    keywords: [stripe, payment, checkout, subscription, billing]
    skills: [fullstack-blueprint-stack, stripe-payments]

clerk:
  name: Clerk
  type: rest_api
  category: auth
  priority: 1
  base_url: https://api.clerk.dev/v1
  auth:
    type: bearer
    env_var: CLERK_SECRET_KEY
  capabilities:
    - list_users
    - manage_sessions
    - create_invitation
  auto_connect_when:
    keywords: [clerk, auth, user management]
    skills: [clerk-auth-expert, auth-clerk-nextauth]

resend:
  name: Resend
  type: rest_api
  category: email
  priority: 2
  base_url: https://api.resend.com
  auth:
    type: bearer
    env_var: RESEND_API_KEY
  capabilities:
    - send_email
    - create_template
    - list_emails
  auto_connect_when:
    keywords: [email, resend, transactional]
    skills: [resend-email, email-resend]

posthog:
  name: PostHog
  type: rest_api
  category: analytics
  priority: 2
  base_url: https://app.posthog.com/api
  auth:
    type: api_key
    env_var: POSTHOG_API_KEY
  capabilities:
    - capture_event
    - feature_flags
    - get_insights
  auto_connect_when:
    keywords: [analytics, posthog, tracking, feature flag]
    skills: [analytics-tracking]
```

### 2.4 Collaboration MCPs

```yaml
discord:
  name: Discord
  type: mcp_server
  category: communication
  priority: 2
  connection:
    type: mcp_stdio
    command: npx
    args: ["-y", "@anthropic/mcp-discord"]
  auth:
    type: token
    env_var: DISCORD_BOT_TOKEN
  capabilities:
    - send_message
    - read_channels
    - manage_roles
    - slash_commands
  auto_connect_when:
    keywords: [discord, bot, server, guild]
    skills: [fullstack-blueprint-stack]

linear:
  name: Linear
  type: mcp_server
  category: productivity
  priority: 2
  connection:
    type: mcp_stdio
    command: npx
    args: ["-y", "@anthropic/mcp-linear"]
  auth:
    type: api_key
    env_var: LINEAR_API_KEY
  capabilities:
    - create_issue
    - list_projects
    - update_issue
  auto_connect_when:
    keywords: [linear, issue, sprint, project]
    skills: [devops-automation-stack]

liveblocks:
  name: Liveblocks
  type: rest_api
  category: realtime
  priority: 3
  base_url: https://api.liveblocks.io
  auth:
    type: bearer
    env_var: LIVEBLOCKS_SECRET_KEY
  capabilities:
    - create_room
    - broadcast_event
    - get_active_users
  auto_connect_when:
    keywords: [realtime, collaborative, multiplayer, liveblocks]
    skills: [realtime-multiplayer]
```

---

## Part 3: npm Toolkit Packages

### 3.1 @gicm/skill-solana-toolkit

```json
{
  "name": "@gicm/skill-solana-toolkit",
  "version": "1.0.0",
  "description": "Solana 2025 development utilities",
  "exports": {
    "./blinks": "./dist/blinks.js",
    "./actions": "./dist/actions.js",
    "./token-extensions": "./dist/token-extensions.js",
    "./metaplex": "./dist/metaplex.js",
    "./pump-fun": "./dist/pump-fun.js"
  },
  "dependencies": {
    "@solana/web3.js": "^2.0.0",
    "@solana/actions": "^1.0.0",
    "@metaplex-foundation/umi": "^0.9.0",
    "@solana/spl-token": "^0.4.0"
  },
  "peerDependencies": {
    "@gicm/opus67": ">=4.0.0"
  }
}
```

**Contents:**
- `blinks.ts` - Blinks URL generation, signing
- `actions.ts` - Solana Actions spec implementation
- `token-extensions.ts` - Token-2022 helpers
- `metaplex.ts` - Umi wrappers for NFT ops
- `pump-fun.ts` - Bonding curve math utilities

### 3.2 @gicm/skill-ai-toolkit

```json
{
  "name": "@gicm/skill-ai-toolkit",
  "version": "1.0.0",
  "description": "AI/LLM integration utilities",
  "exports": {
    "./rag": "./dist/rag.js",
    "./embeddings": "./dist/embeddings.js",
    "./streaming": "./dist/streaming.js",
    "./agents": "./dist/agents.js"
  },
  "dependencies": {
    "ai": "^3.0.0",
    "@langchain/core": "^0.2.0",
    "llamaindex": "^0.5.0"
  }
}
```

**Contents:**
- `rag.ts` - RAG pipeline builders
- `embeddings.ts` - Embedding generation helpers
- `streaming.ts` - SSE/streaming utilities
- `agents.ts` - Agent loop patterns

### 3.3 @gicm/skill-devops-toolkit

```json
{
  "name": "@gicm/skill-devops-toolkit",
  "version": "1.0.0",
  "description": "DevOps automation utilities",
  "bin": {
    "gicm-deploy": "./dist/cli.js"
  },
  "exports": {
    "./actions": "./dist/github-actions.js",
    "./docker": "./dist/docker.js",
    "./cloudflare": "./dist/cloudflare.js"
  },
  "dependencies": {
    "execa": "^8.0.0",
    "yaml": "^2.3.0"
  }
}
```

---

## Part 4: File Changes

### 4.1 Critical Files to Modify

| File | Changes | Priority |
|------|---------|----------|
| `packages/opus67/skills/registry.yaml` | Add 5 skill packs + 17 skills + update meta | Critical |
| `packages/opus67/mcp/connections.yaml` | Add 12 new MCP definitions | Critical |
| `packages/opus67/src/skill-loader.ts` | Add skill hints support, inheritance | Critical |
| `packages/opus67/src/skill-hints.ts` | NEW - 15 MCP-backed hints | High |
| `packages/opus67/skills/metadata/ai-native-stack.yaml` | NEW - First skill pack | High |
| `packages/opus67/skills/metadata/solana-2025-stack.yaml` | NEW - Solana pack | High |
| `packages/opus67/skills/fragments/` | NEW directory - Base fragments | Medium |

### 4.2 New File Structure

```
packages/opus67/skills/
├── registry.yaml              # Updated (130 skills)
├── fragments/                 # NEW
│   ├── api-base.yaml         # 500 tokens
│   ├── blockchain-base.yaml  # 600 tokens
│   └── devops-base.yaml      # 500 tokens
├── metadata/
│   ├── ai/                   # NEW category
│   │   └── ai-native-stack.yaml
│   ├── solana-2025/          # NEW category
│   │   └── solana-2025-stack.yaml
│   ├── devops/               # NEW category
│   └── stacks/               # NEW category
└── hints/                    # NEW
    └── mcp-backed-hints.yaml

packages/skill-solana-toolkit/   # NEW package
packages/skill-ai-toolkit/       # NEW package
packages/skill-devops-toolkit/   # NEW package
```

---

## Part 5: Implementation Phases

### Phase 1: Core Infrastructure (Session 1-2)

**Tasks:**
1. Create `packages/opus67/skills/fragments/` directory with 3 base fragments
2. Update `skill-loader.ts` to support:
   - Fragment inheritance via `extends:` field
   - Skill hints loading
   - Category subdirectories
3. Create `skill-hints.ts` with 15 MCP-backed hints

**Files:**
```
packages/opus67/src/skill-loader.ts
packages/opus67/src/skill-hints.ts (NEW)
packages/opus67/skills/fragments/api-base.yaml (NEW)
packages/opus67/skills/fragments/blockchain-base.yaml (NEW)
packages/opus67/skills/fragments/devops-base.yaml (NEW)
```

### Phase 2: Skill Packs (Session 3-4)

**Tasks:**
1. Create `ai-native-stack.yaml` (10K tokens)
2. Create `solana-2025-stack.yaml` (12K tokens)
3. Create `devops-automation-stack.yaml` (9K tokens)
4. Create `monorepo-build-stack.yaml` (8K tokens)
5. Create `fullstack-blueprint-stack.yaml` (10K tokens)
6. Update registry.yaml with all 5 packs

**Files:**
```
packages/opus67/skills/metadata/ai/ai-native-stack.yaml
packages/opus67/skills/metadata/solana-2025/solana-2025-stack.yaml
packages/opus67/skills/metadata/devops/devops-automation-stack.yaml
packages/opus67/skills/metadata/devops/monorepo-build-stack.yaml
packages/opus67/skills/metadata/stacks/fullstack-blueprint-stack.yaml
packages/opus67/skills/registry.yaml
```

### Phase 3: New MCPs (Session 5-6)

**Tasks:**
1. Add 12 new MCP definitions to `connections.yaml`
2. Update `mcp-hub.ts` for new categories
3. Add MCP connection groups
4. Document required env vars

**Files:**
```
packages/opus67/mcp/connections.yaml
packages/opus67/src/mcp-hub.ts
packages/opus67/.env.example
```

### Phase 4: Individual Skills (Session 7-8)

**Tasks:**
1. Create 17 lean individual skill metadata files
2. Add to registry.yaml
3. Create skill combinations

**Files:**
```
packages/opus67/skills/metadata/web/hono-expert.yaml
packages/opus67/skills/metadata/runtime/bun-runtime.yaml
packages/opus67/skills/metadata/typescript/effect-ts.yaml
... (17 total)
packages/opus67/skills/registry.yaml
```

### Phase 5: npm Toolkits (Session 9-10)

**Tasks:**
1. Create `packages/skill-solana-toolkit/` package
2. Create `packages/skill-ai-toolkit/` package
3. Create `packages/skill-devops-toolkit/` package
4. Add to pnpm-workspace.yaml
5. Publish to npm

**Files:**
```
packages/skill-solana-toolkit/package.json
packages/skill-solana-toolkit/src/blinks.ts
packages/skill-solana-toolkit/src/actions.ts
packages/skill-ai-toolkit/package.json
packages/skill-ai-toolkit/src/rag.ts
packages/skill-devops-toolkit/package.json
pnpm-workspace.yaml
```

### Phase 6: Integration & Testing (Session 11-12)

**Tasks:**
1. Update OPUS67 boot to show new skill count
2. Update CLI for skill search
3. Add marketplace templates
4. Write tests for skill loading
5. Update documentation

---

## Part 6: Token Budget Analysis

### Per-Session Token Usage (Before vs After)

| Scenario | Before | After | Savings |
|----------|--------|-------|---------|
| Solana DApp Development | 38,000 | 22,000 | 42% |
| AI/RAG Pipeline | 35,000 | 14,000 | 60% |
| Full-Stack SaaS | 42,000 | 25,000 | 40% |
| Data Analysis | 28,000 | 8,000 | 71% |
| DevOps/CI-CD | 25,000 | 12,000 | 52% |

### Token Cost Summary

| Category | Count | Avg Tokens | Total |
|----------|-------|------------|-------|
| Skill Packs | 5 | 9,800 | 49,000 |
| Lean Skills | 17 | 5,700 | 96,900 |
| MCP Hints | 15 | 380 | 5,700 |
| Fragments | 3 | 530 | 1,590 |
| **Total** | 40 files | - | **153,190** |

**vs Naive (35 individual full skills): 245,000 tokens**
**Savings: 91,810 tokens (37.5% reduction)**

---

## Part 7: Registry Update Template

```yaml
# packages/opus67/skills/registry.yaml

meta:
  version: "4.0.0"
  total_skills: 130
  max_skills_per_session: 5
  token_budget: 50000
  skill_packs: 5
  mcp_hints: 15

skills:
  # === TIER 1: SKILL PACKS ===

  - id: ai-native-stack
    name: AI Native Development Stack
    tier: 1
    token_cost: 10000
    extends: [api-base]
    capabilities:
      - Anthropic Claude SDK (messages, streaming, tools)
      - Claude Agent SDK patterns
      - Cursor rules authoring
      - LangChain + LangSmith
      - LlamaIndex RAG
    auto_load_when:
      keywords: [anthropic, claude sdk, cursor, langchain, llamaindex, rag, agent]
    mcp_connections: [langsmith, context7]

  - id: solana-2025-stack
    name: Solana 2025 Stack
    tier: 1
    token_cost: 12000
    extends: [blockchain-base]
    capabilities:
      - Solana Kit (@solana/web3.js v2)
      - Token Extensions (Token-2022)
      - Metaplex Umi framework
      - Blinks and Actions
      - Squads v4 multisig
    auto_load_when:
      keywords: [solana kit, token extensions, token-2022, metaplex, umi, blinks, actions, squads]
    mcp_connections: [helius, jupiter, anchor, pump_fun]

  # ... (remaining skills)

combinations:
  ai_complete:
    skills: [ai-native-stack, typescript-senior, supabase-expert]
    token_cost: 27000

  solana_complete:
    skills: [solana-anchor-expert, solana-2025-stack, jupiter-trader]
    token_cost: 35000

  fullstack_saas:
    skills: [fullstack-blueprint-stack, nextjs-14-expert, supabase-expert]
    token_cost: 31000
```

---

## Part 8: First Skill Pack Template (ai-native-stack.yaml)

```yaml
id: ai-native-stack
name: "AI Native Development Stack"
tier: 1
token_cost: 10000
version: "1.0.0"

extends:
  - api-base

semantic:
  purpose: "Build AI-powered applications with modern LLM tooling"

  what_it_does:
    # Anthropic SDK
    - "Implement Claude Messages API with streaming"
    - "Design tool use schemas for function calling"
    - "Handle multi-turn conversations"
    - "Implement computer use capabilities"

    # Claude Agent SDK
    - "Build agents with bash and editor tools"
    - "Design agentic workflows with checkpoints"
    - "Implement tool chaining patterns"

    # Cursor Rules
    - "Author .cursorrules for project context"
    - "Define code style and architecture preferences"

    # LangChain/LangSmith
    - "Build chains with LCEL"
    - "Implement LangSmith tracing and evaluation"

    # LlamaIndex
    - "Build RAG pipelines with document ingestion"
    - "Implement vector store retrievers"

  what_it_cannot:
    - "Train or fine-tune models"
    - "Guarantee deterministic outputs"
    - "Bypass content policies"

capabilities:
  - action: "Anthropic Messages API"
    confidence: 0.95
  - action: "Claude tool use"
    confidence: 0.93
  - action: "LangChain LCEL"
    confidence: 0.92
  - action: "LlamaIndex RAG"
    confidence: 0.91
  - action: "Cursor rules"
    confidence: 0.94

auto_load_when:
  keywords:
    - anthropic
    - claude sdk
    - messages api
    - tool use
    - cursor
    - cursorrules
    - langchain
    - langsmith
    - llamaindex
    - rag pipeline
  file_types:
    - .cursorrules

anti_hallucination:
  - trigger: "always correct|never wrong"
    response: "LLMs can hallucinate. Implement validation."
  - trigger: "free api|no cost"
    response: "All LLM APIs have usage costs."

synergies:
  amplifying: [typescript-senior, supabase-expert, vector-wizard]
  conflicting: []
  redundant: [langchain-expert, rag-expert]

mcp_connections: [langsmith, context7]
```

---

## Summary

This plan adds **35 new skills** to OPUS 67 through:

1. **5 Skill Packs** - Consolidated related skills (49K tokens total)
2. **15 MCP-Backed Hints** - Dynamic loading (5.7K tokens)
3. **17 Lean Individual Skills** - Standalone (97K tokens)
4. **12 New MCPs** - Extended integrations
5. **3 npm Toolkits** - Executable code packages

**Total Token Savings: 37.5%** compared to adding 35 full static skills

**Implementation: 12 sessions** across 6 phases

---

## Gap Analysis Summary

| Category | Current | Missing | Gap % |
|----------|---------|---------|-------|
| AI/LLM Native | 1 | 8 | 88% gap |
| Solana 2025 | 5 | 7 | 58% gap |
| DevOps Modern | 3 | 6 | 67% gap |
| Agent Development | 0 | 5 | 100% gap |
| Popular Stacks | 2 | 8 | 80% gap |

**After implementation: 95 → 130 skills with complete 2025 coverage**
